// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              String            @id @default(uuid())
  firstName       String
  middleName      String
  lastName        String
  email           String            @unique
  password        String
  role            String
  StudentProfile  StudentProfile[]
  TeacherProfile  TeacherProfile[]
  GuardianProfile GuardianProfile[]
  Service         Service[]
}

model StudentProfile {
  id              String @id() @default(uuid())
  userId          String
  user            User   @relation(fields: [userId], references: [id])
  fullName        String
  gender          String
  contactNo       String
  presentAddress  String
  avatar          String
  institutionName String
  class           String
}

model TeacherProfile {
  id                 String   @id() @default(uuid())
  userId             String
  user               User     @relation(fields: [userId], references: [id])
  fullName           String
  gender             String
  contactNo          String
  presentAddress     String
  avatar             String
  institutionName    String
  designation        String
  degree             String
  experienceYear     String   @default("0")
  subjectOfExpertise String[]
}

model GuardianProfile {
  id             String @id() @default(uuid())
  userId         String
  user           User   @relation(fields: [userId], references: [id])
  fullName       String
  gender         String
  contactNo      String
  presentAddress String
  avatar         String
  address        String
  occupation     String
}

model Service {
  id          String   @id @default(uuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id])
  thumbnail   String
  title       String
  authorName  String
  authorEmail String
  description String
  rating      String[] @default(["0"])
  category    String
  price       String   @default("0")
  time        String
  badge       String[] @default([])
}
